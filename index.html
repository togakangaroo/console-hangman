<!DOCTYPE html>
<html>
    <head>
        <title>A console.log Hangman Game</title>
    </head>
    <body>
        Open up the console to see the game!
        <script src="hangman-utils.js"></script>
        <script>
            (function() {
                
                /////////////////////////////////////////////////
                // Variable declaration
                /////////////////////////////////////////////////
                var phrase, lettersGuessed,
                    guess, displayCurrent
                    ;
                    
                /////////////////////////////////////////////////
                // Variable initialization
                /////////////////////////////////////////////////
                phrase = "learn to program";
                lettersGuessed = [];
                
                guess = function(input) {
                    var letter
                        ;
                    /////////////////////////////////////////////////
                    letter = input[0];
                    /////////////////////////////////////////////////
                    lettersGuessed.push(letter);
                    displayCurrent();
                };
                displayCurrent = function() {
                    var currentDisplay, remainingLetterCount
                        ;
                    /////////////////////////////////////////////////
                    remainingLetterCount = 0;
                    currentDisplay = hangman.forEachLetter(phrase, function(character) {
                        // for each character in the phrase.
                        // if it is a space output space
                        // if it has been guessed output the letter
                        // otherwise output -
                        if(character === " ") {                                    //if it is a space
                            return " ";                                            //output a space
                        } else if(hangman.contains(lettersGuessed, character)) {   //if it has been guessed
                            return character;                                      //output the character
                        } else {
                            remainingLetterCount = remainingLetterCount + 1;
                            return "-";                                            //otherwise output -
                        }
                    });
                    
                    /////////////////////////////////////////////////
                    console.log("You have guessed", lettersGuessed);
                    console.log("currently:", currentDisplay);
                    if(remainingLetterCount === 0) {
                        console.log("You win!");
                        hangman.cornifyTimes(4);
                    }
                };
                
                /////////////////////////////////////////////////
                // Do Stuff
                /////////////////////////////////////////////////
                console.log("Welcome to our hangman game!");
                console.log("Commands are guess('a'), displayCurrent()");
                
                /////////////////////////////////////////////////
                // Export variables
                /////////////////////////////////////////////////
                window.guess = guess;
                window.displayCurrent = displayCurrent;
            })();   
        </script>
    </body>
</html> 