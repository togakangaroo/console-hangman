<!DOCTYPE html>
<html>
    <head>
        <title>A console.log Hangman Game</title>
    </head>
    <body>
        Open up the console to see the game!
        <script>
        (function(){
            
            /////////////////////////////////////////////////
            // Variable declaration
            /////////////////////////////////////////////////
            var toArray, scope, contains
                ;
            /////////////////////////////////////////////////
            // Variable initialzation
            /////////////////////////////////////////////////
            toArray = function(obj) {
                return Array.prototype.slice.call(obj)
            };
            scope = function(fn) {
                fn();
            }
            contains = function(array, value) {
                return array.indexOf(value) != -1;
            }
            
            /////////////////////////////////////////////////
            // Export variables
            /////////////////////////////////////////////////
            window.utils = {
                toArray: toArray,
                scope: scope,
                contains: contains,
            };
        }).call();
        </script>
        <script>
            window.utils.scope(function() {
                
                /////////////////////////////////////////////////
                // Variable declaration
                /////////////////////////////////////////////////
                var phrase, phraseLetters, lettersGuessed,
                    guess, displayCurrent
                    ;
                    
                /////////////////////////////////////////////////
                // Variable initialization
                /////////////////////////////////////////////////
                phrase = "learn to program";
                phraseLetters = window.utils.toArray(phrase);
                lettersGuessed = [];
                
                guess = function(input) {
                    var letter
                        ;
                    /////////////////////////////////////////////////
                    letter = input[0];
                    /////////////////////////////////////////////////
                    lettersGuessed.push(letter);
                }
                displayCurrent = function() {
                    var currentDisplay, currentDisplayLetters
                        ;
                    /////////////////////////////////////////////////
                    currentDisplayLetters = phraseLetters.map(function(character) {
                        // for each character in the phrase.
                        // if it is a space output space
                        // if it has been guessed output the letter
                        // otherwise output -
                        if(character === " ") {                                 //if it is a space
                            return " ";                                         //output a space
                        }
                        if(window.utils.contains(lettersGuessed, character)) {  //if it has been guessed
                            return character;                                   //output the character
                        }
                        return "-";                                             //otherwise output -
                    });
                    currentDisplay = currentDisplayLetters.join("");
                    
                    /////////////////////////////////////////////////
                    console.log("You have guessed", lettersGuessed);
                    console.log("currently:", currentDisplay);
                }
                
                /////////////////////////////////////////////////
                // Do Stuff
                /////////////////////////////////////////////////
                console.log("Welcome to our hangman game!");
                console.log("Commands are guess('a'), displayCurrent()");
                
                /////////////////////////////////////////////////
                // Export variables
                /////////////////////////////////////////////////
                window.guess = guess;
                window.displayCurrent = displayCurrent;
            });   
        </script>
    </body>
</html> 